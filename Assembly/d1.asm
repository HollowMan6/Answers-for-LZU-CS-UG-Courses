DATAS SEGMENT
STRING DB 'INPUT 20 NUMBERS: ',0AH,0DH,'$'
BUF DB 20 DUP(?)
DATAS ENDS
CODES SEGMENT
ASSUME CS:CODES,DS:DATAS
;输出提示语
MOV AX,DATAS
MOV DS,AX
LEA DX,STRING
MOV AH,9
INT 21H

;动态输入20个无符号的两位数
MOV CX,20
MOV SI,0
LOOP1:  
MOV AH,1
INT 21H
SUB AL,30H 
MOV BL,10
MUL BL
MOV DX,AX
MOV AH,1
INT 21H
SUB AL,30H
ADD DL,AL
MOV BL,DL ;输入按位的ASCII码转成数值
MOV AH,2
MOV DL, ' ' ;两位数输入完成后自动打印出空格
INT 21H
MOV BUF[SI],BL ;存入内存
INC SI
LOOP LOOP1

;冒泡排序
MOV CX,19
E1:
PUSH CX
MOV BX,0
E2: 
MOV AL,BUF[BX]
CMP AL,BUF[BX+1]
JNG E3
XCHG AL,BUF[BX+1] ;寄存器和内存变量之间内容交换
MOV BUF[BX],AL
E3:
ADD BX,1
LOOP E2
POP CX
LOOP E1

;输出换行
MOV AH,2
MOV DL,0AH
INT 21H
MOV AH,2
MOV DL,0DH
INT 21H

;从小到大输出数组
MOV CL,20 
MOV BX,0
MOV SI,0
LOOP2:
MOV AL,BUF[SI]
CBW ;AL字节转换为AX字
MOV BL,10 ;内存中数值按位转成ASCII码输出
DIV BL
MOV BH,AH
MOV AH,2
ADD AL,30H
MOV DL,AL
INT 21H
MOV AH,2
ADD BH,30H
MOV DL,BH
INT 21H
MOV AH,2
MOV DL, ' '
INT 21H
INC SI
LOOP LOOP2

MOV AH,4CH
INT 21H
CODES ENDS
END