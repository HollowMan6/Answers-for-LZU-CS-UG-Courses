CODES SEGMENT
ASSUME CS:CODES

;输入字符并压栈
MOV CX,0
G1: 
MOV AH,1
INT 21H
CMP AL,'$'
JZ NEXT
PUSH AX
INC CX
JMP G1

NEXT:
;输出换行
MOV AH,2
MOV DL,0AH
INT 21H
MOV AH,2
MOV DL,0DH
INT 21H

;出栈输出字符
EXIT:
PUSH CX
MOV CX,1
MOV AH,09H
INC BL ;依次递增颜色值
CMP BL,111B ;防止颜色值溢出
JLE SHOW
MOV BL,001B
SHOW:
INT 10H
POP CX
POP AX
MOV DL,AL
MOV AH,2
INT 21H
LOOP EXIT
MOV AH,4CH
INT 21H
CODES ENDS
END