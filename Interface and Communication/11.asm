DATA SEGMENT
MESS DB '',0AH,0DH,'$'
MIN1  DB 00H,01H,02H,03H,04H,05H,06H,07H
COUNT db 0
BUFF DB 44H,54H,54H,7FH,54H,0DCH,44H,24H
DATA ENDS
STACKS SEGMENT
STA DB 20 DUP(?)
TOP EQU LENGTH STA
STACKS ENDS
CODE SEGMENT
ASSUME CS:CODE,DS:DATA
XSS:
MOV AX,DATA
MOV DS,AX
MOV DX,OFFSET MESS
AGN:
MOV CX,80H
D2:
MOV AH,01H
PUSH CX
MOV CX,0008H
MOV SI,OFFSET MIN1
NEXT:
MOV AL,[SI]
MOV BX,OFFSET BUFF
XLAT
MOV DX,280H
OUT DX,AL
MOV AL,AH
MOV DX,298H
OUT DX,AL
SHL AH,01
INC SI
PUSH CX
MOV CX,0FFFFH
DELAY2:
LOOP DELAY2
POP CX
LOOP NEXT
CALL DELAY
LOOP D2
MOV AL,00
MOV DX,298H
OUT DX,AL
MOV AH,01
INT 16H
JNZ A2

DELAY PROC NEAR
PUSH CX
MOV CX,0FFFFH
CCC:
LOOP CCC
POP CX
RET
DELAY ENDP
A2:
MOV AH,4CH
INT 21H
CODE ENDS
END XSS       
